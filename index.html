<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trial Lens Order</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0b3d91" />

  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body { margin: 0; background: #f6f7fb; color: #111; }
    header { background: #0b3d91; color: white; padding: 14px 16px; display:flex; align-items:center; gap:12px; }
    header h1 { font-size: 18px; margin: 0; font-weight: 650; letter-spacing: .2px; }
    header .spacer { flex: 1; }
    header button { background: rgba(255,255,255,.15); color: white; border: 0; padding: 8px 10px; border-radius: 10px; cursor: pointer; }
    main { padding: 14px; max-width: 980px; margin: 0 auto; }
    .row { display:flex; gap: 10px; align-items:center; flex-wrap: wrap; }
    .card { background: white; border-radius: 16px; padding: 14px; box-shadow: 0 6px 18px rgba(15,23,42,.08); }
    .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    .btn { width: 100%; text-align:left; padding: 12px; border-radius: 14px; border: 1px solid #e6e8f0; background: white; cursor:pointer; }
    .btn:hover { border-color: #cfd6ee; }
    .btn strong { display:block; font-size: 14px; margin-bottom: 4px; }
    .pill { display:inline-block; padding: 4px 10px; border-radius: 999px; background:#eef2ff; color:#1e3a8a; font-size: 12px; }
    .breadcrumb { color:#334155; font-size: 13px; margin-bottom: 10px; }
    .breadcrumb a { color:#0b3d91; text-decoration:none; cursor:pointer; }
    .breadcrumb a:hover { text-decoration: underline; }

    .power-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); gap: 10px; }
    .power { padding: 10px; border-radius: 14px; border: 1px solid #e6e8f0; background: white; cursor:pointer; text-align:center; font-weight: 650; }
    .power:hover { border-color: #cfd6ee; }

    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 10px; border-bottom: 1px solid #eef2f7; font-size: 13px; }
    th { text-align:left; color:#334155; font-weight: 700; }
    .qty { width: 60px; }
    input[type="number"] { width: 64px; padding: 6px; border-radius: 10px; border: 1px solid #d6dbe8; }
    .danger { background:#fee2e2; color:#991b1b; border: 1px solid #fecaca; }
    .primary { background:#0b3d91; color:white; border: 0; }
    .small { padding: 8px 10px; border-radius: 10px; cursor:pointer; }

    dialog { border: 0; border-radius: 16px; box-shadow: 0 12px 34px rgba(15,23,42,.25); width: min(520px, 92vw); }
    dialog::backdrop { background: rgba(0,0,0,.35); }
    .dialog-head { display:flex; align-items:center; justify-content:space-between; gap: 10px; margin-bottom: 10px; }
    .dialog-head h2 { margin: 0; font-size: 16px; }
    .dialog-body { display:grid; gap: 10px; }
    .select-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 10px; }
    .muted { color:#64748b; font-size: 12px; }
    .footer-actions { display:flex; gap: 10px; justify-content:flex-end; margin-top: 12px; }
  </style>
</head>
<body>
  <header>
  <button id="backBtn" title="Back">← Back</button>
  <button id="homeBtn" title="Home">⌂ Home</button>
  <h1>Trial Lens Order</h1>
  <div class="spacer"></div>
  <button id="goCartBtn" title="View Order">Order (<span id="cartCount">0</span>)</button>
</header>

  <main id="app"></main>

  <dialog id="paramDialog">
    <form method="dialog" id="paramForm">
      <div class="dialog-head">
        <h2 id="paramTitle">Select Parameters</h2>
        <button value="cancel" class="small">✕</button>
      </div>
      <div class="dialog-body" id="paramBody"></div>
      <div class="footer-actions">
        <button value="cancel" class="small">Cancel</button>
        <button id="paramNextBtn" value="next" class="small primary">Next</button>
      </div>
      <p class="muted" id="paramHint"></p>
    </form>
  </dialog>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
  </script>
</body>
</html>
